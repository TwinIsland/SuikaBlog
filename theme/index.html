<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="TwinIsland's Blog">
    <meta name="author" content="TwinIsland">

    <title>è´°å²›åšå®¢</title>
    <link rel="icon" href="/img/favicon.png">

    <link rel="stylesheet" href="/css/picnic.min.css" type="text/css" />
    <link rel="stylesheet" href="/css/style.css" type="text/css" />

    <script>
        function loadScript(url, callback) {
            var script = document.createElement('script');
            script.type = 'text/javascript';
            script.src = url;
            script.async = true
            script.onload = callback;
            document.head.appendChild(script);
        }

        loadScript('/js/confetti.browser.min.js', function () {
            loadScript('/js/blog.js', function () {
                loadScript('/js/router.js', function () {
                    console.log(`
  _________     .__ __          __________.__                 
 /   _____/__ __|__|  | _______ \______   \  |   ____   ____  
 \_____  \|  |  \  |  |/ /\__  \ |    |  _/  |  /  _ \ / ___\ 
 /        \  |  /  |    <  / __ \|    |   \  |_(  <_> ) /_/  >
/_______  /____/|__|__|_ \(____  /______  /____/\____/\___  / 
        \/              \/     \/       \/           /_____/  

Welcome to Suika Blog System!
                    `)
                });
            });
        });
    </script>
</head>

<body>
    <div class="container">
        <header class="flex three header">
            <div class="none third-800" style="padding-bottom: 0;">
                <span>Hi: </span>
                <label style="font-style: italic; color: #B98A82;" for="login_modal"><u>Visitor</u></label>
            </div>
            <div style="text-align: center; padding-bottom: 0;" class="logo brand one-third third-800">
                <a href="/" onclick="route()">
                    è´°å²›
                </a>
            </div>
            <div class="search two-third third-800" style="text-align: right">
                <label for="search_modal">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" stroke="currentColor"
                        stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="mx-3" role="img"
                        viewBox="0 0 24 24">
                        <title>Search</title>
                        <circle cx="10.5" cy="10.5" r="7.5"></circle>
                        <path d="M21 21l-5.2-5.2"></path>
                    </svg>
                </label>
            </div>
        </header>

        <!-- Search function modal -->
        <div class="modal">
            <input id="search_modal" type="checkbox" />
            <label for="search_modal" class="overlay"></label>
            <article style="width: 30rem;">
                <header>
                    <h3>æœç´¢ / Search</h3>
                    <label for="search_modal" class="close">&times;</label>
                </header>
                <section class="content" style="padding-top: 20px;">
                    <label><input style="height: 45px;" placeholder="type something..."></label>
                    <select style="margin-top: 10px;">
                        <option>From All</option>
                        <option>ğŸ¦‰Study</option>
                        <option>ğŸ¥³Nichijou</option>
                        <option>ğŸ—‚ï¸Note</option>
                        <option>ğŸ–¼ï¸Gallary</option>
                    </select>
                </section>
                <footer
                    style="text-align: right; color: rgba(33, 37, 41, 0.75); font-size: 2rem; padding: 10px 1rem 10px 0; user-select: none;">
                    <p>SuikaSearch</p>
                </footer>
            </article>
        </div>

        <!-- Login function modal -->
        <div class="modal">
            <input id="login_modal" type="checkbox" />
            <label for="login_modal" class="overlay"></label>
            <article style="width: 30rem;">
                <header>
                    <h3>å¿«æ·ç™»å½•</h3>
                    <label for="login_modal" class="close">&times;</label>
                </header>
                <section class="content" style="padding-top: 20px;">
                    <b>ç”¨æˆ·åï¼š</b>
                    <input type="text" style="height: 45px;margin-bottom: 12px;margin-top: 5px;" placeholder="(*/Ï‰ï¼¼*)">
                    <b>ç”µå­é‚®ç®±ï¼š</b>
                    <input type="email" style="height: 45px;;margin-top: 5px" placeholder="(*/Ï‰ï¼¼*)">
                </section>
                <footer style="display: flex;align-items: center">
                    <label class="button" style="font-size: 1.2em;">ç™»å½•</label>
                    <label for="register_modal" style="color: #B98A82;margin-left: 10px;"><u>æ³¨å†Œè´¦å·</u></label>
                    <p style="color: rgba(33, 37, 41, 0.75); font-size: 2rem; user-select: none; margin-left: auto;">
                        ExpressAccount</p>
                </footer>
            </article>
        </div>

        <!-- Registor modal -->
        <div class="modal">
            <input id="register_modal" type="checkbox" />
            <label for="register_modal" class="overlay"></label>
            <article style="width: 30rem;">
                <header>
                    <h3>æ³¨å†Œè´¦å·</h3>
                    <label for="register_modal" class="close">&times;</label>
                </header>
                <section class="content" style="padding-top: 20px;">
                    <b>ç”¨æˆ·åï¼š</b>
                    <p id="username_error" style="color: red; font-size: 0.9em; display: none;">ç”¨æˆ·åä¸èƒ½ä¸ºç©ºï¼</p>
                    <input id="username" type="text" style="height: 45px; margin-bottom: 12px; margin-top: 5px;"
                        placeholder="(*/Ï‰ï¼¼*)">

                    <b>ç”µå­é‚®ç®±ï¼š</b>
                    <p id="email_error" style="color: red; font-size: 0.9em; display: none;">è¯·è¾“å…¥æœ‰æ•ˆçš„ç”µå­é‚®ä»¶åœ°å€ï¼</p>
                    <input id="email" type="email" style="height: 45px; margin-bottom: 12px; margin-top: 5px"
                        placeholder="(*/Ï‰ï¼¼*)">

                    <b>ç½‘ç«™ï¼ˆå¯é€‰ï¼‰ï¼š</b>
                    <input id="website" type="url" style="height: 45px; margin-top: 5px" placeholder="(*/Ï‰ï¼¼*)">
                    <p id="response_message" style="margin-left: auto; color: rgba(33, 37, 41, 0.75); font-size: 1rem;">
                    </p>
                </section>
                <footer style="display: flex; align-items: center">
                    <label class="button" style="font-size: 1.2em; cursor: pointer;"
                        onclick="registerAccount()">æ³¨å†Œ</label>
                    <label for="login_modal" style="color: #B98A82; margin-left: 10px;"><u>è¿”å›ç™»é™†</u></label>
                </footer>
            </article>
        </div>


        <hr style="color: rgb(248, 249, 250);">

        <div class="navbar">
            <a href="/" onclick="route()">é¦–é¡µ</a>
            <a href="/" onclick="route()">ç¬”è®°</a>
            <a href="/" onclick="route()">ç›¸å†Œ</a>
            <a href="/" onclick="route()">è¿½ç•ª</a>
            <a href="/" onclick="route()">å­˜æ¡£</a>
            <a href="/about" onclick="route()">å…³äº</a>
            <a href="/" onclick="route()">å®éªŒå®¤</a>
        </div>

        <div id="page-content"></div>

    </div>

    <footer style="text-decoration: none;">
        <div id="foot-container">
            <section>
                <p>Â©
                    2024 <span class="logo" style="font-size: 21px;">
                        è´°å²› </span>
                </p>
                <p>
                    <a href="/api" class="pjax">API</a>
                    /
                    <a href="/friends" class="pjax"> å‹é“¾</a>
                    /
                    <a href="/achieve" class="pjax"> å½’æ¡£</a>
                    /
                    <a href="https://panel.cirno.me/status/server" target="_blank"> ç›‘æ§</a>
                </p>

                <p class="footer-desktop">æ„Ÿè°¢é™ªä¼´ï¼š<span id="uptime">917 å¤© 3 å°æ—¶ 31 åˆ† 9 ç§’ </span></p>

            </section>
            <section>
                <p class="footer-desktop">Driven by <a href="https://github.com/TwinIsland/SuikaBlog"
                        target="_blank">SuikaSystem</a></p>

                <a href="https://beian.miit.gov.cn">èœ€ICPå¤‡2024084709å·-1</a>
                <p style="display: flex; align-items: center;">
                    <img src="/img/beian.png" alt="beian" width="18px">
                    <a href="https://beian.mps.gov.cn/#/query/webSearch?code=51010702043104" rel="noreferrer"
                        target="_blank" style="margin-left: 5px;">å·å…¬ç½‘å®‰å¤‡51010702043104</a>
                </p>
            </section>
        </div>
    </footer>

    <div id="suika" style="position: fixed; bottom: 0px; user-select: none; display:flex; z-index: 10;">
        <img src="/img/suika.webp" style="height:100px; width: 100px;" onclick="toggleCloud()">
        <div id="conversationCloud" style="opacity: 0; pointer-events: none;"></div>
    </div>

    <a tabindex="-1" class="top pseudo button" id="go">
        â–²Up you goâ–²
    </a>

    <script>
        document.onkeydown = function (e) {
            if (e.keyCode == 27) {
                var mods = document.querySelectorAll('.modal > [type=checkbox]');
                [].forEach.call(mods, function (mod) { mod.checked = false; });
            }
        }

        document.addEventListener('scroll', function () {
            var top = window.scrollY || document.documentElement.scrollTop;
            var backToTopButton = document.querySelector('#go');

            if (top > 800) {
                backToTopButton.style.display = 'block';
            } else {
                backToTopButton.style.display = 'none';
            }
        });        
    </script>

    <script>
        function registerAccount() {
            const username = document.getElementById("username").value.trim();
            const email = document.getElementById("email").value.trim();
            const website = document.getElementById("website").value.trim();
            const usernameError = document.getElementById("username_error");
            const emailError = document.getElementById("email_error");
            const responseMessage = document.getElementById("response_message");

            // Reset error messages
            usernameError.style.display = "none";
            emailError.style.display = "none";
            responseMessage.innerText = "";

            // Validate input fields
            let isValid = true;

            if (username === "") {
                usernameError.style.display = "block";
                isValid = false;
            }

            if (email === "" || !/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
                emailError.style.display = "block";
                isValid = false;
            }

            if (!isValid) return;

            let requestData = { name: username, email: email };
            if (website !== "") {
                requestData.website = website;
            }

            fetch("/api/visitor/register", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(requestData)
            })
                .then(response => response.json())
                .then(data => {
                    if (data.status) {
                        responseMessage.style.color = "green";
                        responseMessage.innerText = `æ³¨å†ŒæˆåŠŸï¼ä½ çš„IDï¼š ${data.content}`;
                    } else {
                        responseMessage.style.color = "red";
                        responseMessage.innerText = `æ³¨å†Œå¤±è´¥ï¼š ${data.content}`;
                    }
                })
                .catch(error => {
                    responseMessage.style.color = "red";
                    responseMessage.innerText = "æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åå†è¯•ã€‚";
                });
        }
    </script>
</body>

</html>